(()=>{"use strict";var e={d:(t,l)=>{for(var o in l)e.o(l,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:l[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{F1:()=>a,uA:()=>c,hM:()=>h,Ex:()=>s});let t=document.querySelector("#boardPlayer1"),l=document.querySelector("#boardCPU");class o{constructor(){this.board=null,this.data=null,this.shipId=null,this.length=null,this.hover=!0,this.coords=[{coord:null,hit:!1},{coord:null,hit:!1},{coord:null,hit:!1},{coord:null,hit:!1}]}onHit(){null===this.data?console.log("Ok"):console.log("X")}valided(e){let t=this.length-1;return e<10&&e+t<10||e>=10&&e<20&&e+t<20||e>=20&&e<30&&e+t<30||e>=30&&e<40&&e+t<40||e>=40&&e<50&&e+t<50||e>=50&&e<60&&e+t<60||e>=60&&e<70&&e+t<70||e>=70&&e<80&&e+t<80||e>=80&&e<90&&e+t<90||e>=90&&e<100&&e+t<100}isEmpty(e,t,l){let o=!0,n=0;n=e;for(let e=0;e<this.length;e++)t.forEach((e=>{e.coords.forEach((e=>{e.coord===n&&(o=!1)}))})),0===l?n+=10:n++;return o}}let n=0;function d(e,t,l){let o=Number(t.lastChild.textContent),d=0;if(0===n)if(o+10*(e.length-1)<100&&!0===e.isEmpty(o,s,n)){d=o;for(let t=0;t<e.length;t++)c[d].style.backgroundColor="blue",d+=10;t.style.cursor="pointer",t.onclick=function(){d=o;for(let t=0;t<e.length;t++)e.coords[t].coord=d,d+=10;l.disabled=!1,l.click(),l.disabled=!0,e.hover=!1}}else t.style.cursor="not-allowed";else if(!0===e.valided(o)&&!0===e.isEmpty(o,s,n)){d=o;for(let t=0;t<e.length;t++)c[d].style.backgroundColor="blue",d++;t.style.cursor="pointer",t.onclick=function(){d=o;for(let t=0;t<e.length;t++)e.coords[t].coord=d,d++;e.hover=!1,l.disabled=!1,l.click(),l.disabled=!0}}else t.style.cursor="not-allowed"}let i=0;function r(e){let t=0;for(i=Math.floor(2*Math.random());!0===e.hover;){let l=Math.floor(100*Math.random());if(0===i&&l+10*(e.length-1)<100&&!0===e.isEmpty(l,h,i)){t=l;for(let l=0;l<e.length;l++)a[t].style.backgroundColor="red",a[t].classList.add("onShip"),e.coords[l].coord=t,t+=10;e.hover=!1}else if(1===i&&!0===e.valided(l)&&!0===e.isEmpty(l,h,i)){t=l;for(let l=0;l<e.length;l++)a[t].style.backgroundColor="red",a[t].classList.add("onShip"),e.coords[l].coord=t,t++;e.hover=!1}}}let c=[],a=[],s=[],h=[];(function(e,o){t.style.setProperty("--grid-rows",e),t.style.setProperty("--grid-cols",o),l.style.setProperty("--grid-rows",e),l.style.setProperty("--grid-cols",o);for(let n=0;n<e*o;n++){let e=document.createElement("div"),o=document.createElement("p");o.textContent=n,c[n]=e,t.appendChild(e),e.appendChild(o);let d=document.createElement("div"),i=document.createElement("p");i.textContent=n,a[n]=d,l.appendChild(d),d.appendChild(i)}})(10,10),function(){let e=document.querySelectorAll("#boardPlayer1 div");document.getElementById("btnRotate").addEventListener("click",(function(){n=0===n?1:0}));let t=document.querySelectorAll(".contentShipBoard button");function l(){t.forEach((e=>e.classList.remove("shipActive"))),this.classList.add("shipActive")}function i(){e.forEach((e=>e.style.backgroundColor="rgba(238, 238, 238, 0.8)")),s.forEach((e=>{e.coords.forEach((e=>{null!==e.coord&&(c[e.coord].style.backgroundColor="blue",c[e.coord].classList.add("onShip"))}))}))}t.forEach((e=>e.addEventListener("click",l))),e.forEach((e=>e.addEventListener("mouseout",i))),function(e){let t=document.getElementById("btnShipBigPlayer");t.addEventListener("click",(function(){t.disabled=!0;let n=new o;s.push(n),n.board="Player 1",n.data="Big",n.shipId=1,n.length=4,e.forEach((e=>e.addEventListener("mouseover",(()=>{!0===n.hover&&d(n,e,l)}))))})),t.click();let l=document.getElementById("btnShipMedium1Player");l.addEventListener("click",(function(){let t=new o;s.push(t),t.board="Player 1",t.data="Medium",t.shipId=1,t.length=3,e.forEach((e=>e.addEventListener("mouseover",(()=>{!0===t.hover&&d(t,e,n)}))))}));let n=document.getElementById("btnShipMedium2Player");n.addEventListener("click",(function(){let t=new o;s.push(t),t.board="Player 1",t.data="Medium",t.shipId=2,t.length=3,e.forEach((e=>e.addEventListener("mouseover",(()=>{!0===t.hover&&d(t,e,i)}))))}));let i=document.getElementById("btnShipSmall1Player");i.addEventListener("click",(function(){let t=new o;s.push(t),t.board="Player 1",t.data="Small",t.shipId=1,t.length=2,e.forEach((e=>e.addEventListener("mouseover",(()=>{!0===t.hover&&d(t,e,r)}))))}));let r=document.getElementById("btnShipSmall2Player");r.addEventListener("click",(function(){let t=new o;s.push(t),t.board="Player 1",t.data="Small",t.shipId=2,t.length=2,e.forEach((e=>e.addEventListener("mouseover",(()=>{!0===t.hover&&d(t,e,c)}))))}));let c=document.getElementById("btnShipSmall3Player");c.addEventListener("click",(function(){let t=new o;s.push(t),t.board="Player 1",t.data="Small",t.shipId=3,t.length=2;let l=document.getElementById("btnShipBigCPU");e.forEach((e=>e.addEventListener("mouseover",(()=>{!0===t.hover&&d(t,e,l)}))))}))}(e)}(),function(){let e=document.querySelectorAll(".contentShipBoard button");function t(){e.forEach((e=>e.classList.remove("shipActive"))),this.classList.add("shipActive")}e.forEach((e=>e.addEventListener("click",t))),function(){document.getElementById("btnShipBigCPU").addEventListener("click",(function(){let t=new o;h.push(t),t.board="CPU",t.data="Big",t.shipId=1,t.length=4,setTimeout((()=>{e.disabled=!1,e.click(),e.disabled=!0}),2e3),r(t)}));let e=document.getElementById("btnShipMedium1CPU");e.addEventListener("click",(function(){let e=new o;h.push(e),e.board="CPU",e.data="Medium",e.shipId=1,e.length=3,setTimeout((()=>{t.disabled=!1,t.click(),t.disabled=!0}),2e3),r(e)}));let t=document.getElementById("btnShipMedium2CPU");t.addEventListener("click",(function(){let e=new o;h.push(e),e.board="CPU",e.data="Medium",e.shipId=2,e.length=3,setTimeout((()=>{l.disabled=!1,l.click(),l.disabled=!0}),2e3),r(e)}));let l=document.getElementById("btnShipSmall1CPU");l.addEventListener("click",(function(){let e=new o;h.push(e),e.board="CPU",e.data="Small",e.shipId=1,e.length=2,setTimeout((()=>{n.disabled=!1,n.click(),n.disabled=!0}),2e3),r(e)}));let n=document.getElementById("btnShipSmall2CPU");n.addEventListener("click",(function(){let e=new o;h.push(e),e.board="CPU",e.data="Small",e.shipId=2,e.length=2,setTimeout((()=>{d.disabled=!1,d.click(),d.disabled=!0}),2e3),r(e)}));let d=document.getElementById("btnShipSmall3CPU");d.addEventListener("click",(function(){let e=new o;h.push(e),e.board="CPU",e.data="Small",e.shipId=3,e.length=2,setTimeout((()=>{d.classList.remove("shipActive")}),2e3),r(e),function(){function e(){a.forEach((e=>this.classList.add("active")))}document.querySelectorAll("#boardCPU div").forEach((t=>t.addEventListener("click",e)))}()}))}()}()})();